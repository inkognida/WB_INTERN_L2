Что выведет программа? Объяснить вывод программы. Объяснить как работают defer’ы и их порядок вызовов.

```go
package main

import (
	"fmt"
)


func test() (x int) {
	defer func() {
		x++
	}()
	x = 1
	return
}


func anotherTest() int {
	var x int
	defer func() {
		x++
	}()
	x = 1
	return x
}


func main() {
	fmt.Println(test())
	fmt.Println(anotherTest())
}
```

Ответ:
```
2
1
```

В функции test(),  x = 1. Затем, при выполнении оператора return, функция defer откладывается для выполнения после возврата значения. Внутри функции defer значение x += 1. Возвращаемое значение будет 2, так как defer изменяет значение x после того, как оно было присвоено в операторе return.

В функции anotherTest(),  x = 1. Затем, при выполнении оператора return, функция defer откладывается для выполнения после возврата значения. Внутри функции defer значение x += 1. Однако, оператор return возвращает значение x до выполнения функции defer. Поэтому возвращаемое значение будет 1.

defer используется для отложенного выполнения функции или метода. Отложенная функция будет выполнена непосредственно перед выходом из текущей функции, независимо от того, каким образом функция завершается (нормально, через return или из-за паники).

Порядок вызовов defer определяется обратным порядком их объявления. Последний defer будет выполнен первым, а первый defer будет выполнен последним. Это связано с тем, что каждый defer добавляется в стек и хранится в нем до момента выполнения.